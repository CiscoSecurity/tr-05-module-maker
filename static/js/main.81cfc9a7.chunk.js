(this["webpackJsonptr-05-module-maker-react"]=this["webpackJsonptr-05-module-maker-react"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/sprite.31710dea.svg"},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},207:function(e,t,a){},211:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),i=(a(85),a(86),a(6)),l=a(7),s=a(9),u=a(8),p=a(4),d=(a(92),a(19)),m=a.n(d),f=a(73),h=a.n(f),E=(a(193),function(e){return{type:"UPDATE_SINGLE_INPUT",payload:{name:e.name,value:e.value}}}),b=function(e){return{type:"LOAD_FILE",payload:e}},y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:"",tab:"write",name:e.props.name},e.handleValueChange=function(t){e.setState({value:t}),e.props.updateSingleInput({name:e.state.name,value:t})},e.handleTabChange=function(t){e.setState({tab:t})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{minEditorHeight:323,minPreviewHeight:323,maxEditorHeight:646,commands:[{commands:[d.commands.headerCommand,d.commands.boldCommand,d.commands.italicCommand,d.commands.strikeThroughCommand,d.commands.linkCommand,d.commands.quoteCommand,d.commands.codeCommand,d.commands.orderedListCommand,d.commands.unorderedListCommand,d.commands.checkedListCommand]}],onChange:this.handleValueChange,onTabChange:this.handleTabChange,value:this.props.syncContent["".concat(this.props.name)],generateMarkdownPreview:function(e){return Promise.resolve(r.a.createElement(h.a,{source:e}))},selectedTab:this.state.tab})}}]),a}(r.a.Component),v={updateSingleInput:E},O=Object(p.b)((function(e){return{syncContent:e.other_inputs}}),v)(y),_=(a(194),"https://visibility.eu.amp.cisco.com"),g="https://visibility.amp.cisco.com",j="https://visibility.apjc.amp.cisco.com",C=["title","default_name","short_description","description","tips","external_references","configuration_spec","capabilities","properties","flags","logo"],k=["basic-auth-password","basic-auth-user","token","url","user"],N=["api_key","boolean","device","integer","options","password","string"],S=["Sign Up","Free Trial","Contact Us"],A=["authorization-header","basic","bearer","configuration-token"],P=["RS256","HS256"],T="Failure: an error occurred",I=a(15),D=a.n(I),x=a(223),w=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).trimInputValue=function(t){e.props.updateExternalReference(e.props.reference.id,{name:t.target.name,value:t.target.value.trim()})},e.changeInputHandler=function(t){t.persist(),e.props.updateExternalReference(e.props.reference.id,{name:t.target.name,value:t.target.value})},e.onDeleteIconClick=function(){e.props.deleteExternalReference(e.props.reference.id)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reference_wrapper"},r.a.createElement("input",{type:"text",name:"label",placeholder:"Enter label",className:"custom_input",autoComplete:"off",list:"ext-ref",value:this.props.reference.label,onChange:this.changeInputHandler,onBlur:this.trimInputValue,required:!0}),r.a.createElement("input",{type:"text",name:"link",placeholder:"Enter link",className:"custom_input",autoComplete:"off",value:this.props.reference.link,onChange:this.changeInputHandler,onBlur:this.trimInputValue,required:!0}),r.a.createElement("datalist",{id:"ext-ref"},S.map((function(t){return r.a.createElement("option",{key:"".concat(t," ").concat(e.props.reference.id)},t)}))),r.a.createElement("svg",{className:"closeIcon",onClick:this.onDeleteIconClick},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")})))}}]),a}(r.a.Component),L={deleteExternalReference:function(e){return{type:"DELETE_EXTERNAL_REFERENCE",payload:e}},updateExternalReference:function(e,t){return{type:"UPDATE_EXTERNAL_REFERENCE",payload:{id:e,pair:t}}}},R=Object(p.b)(null,L)(w),F=(a(195),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onAddButtonClick=function(){e.props.addExternalReference()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"reference-section"},r.a.createElement("div",null,r.a.createElement("label",{className:"input-label"}," ","External References"),r.a.createElement("button",{onClick:this.onAddButtonClick,type:"button"},"+ Add")),this.props.syncExternalReferences.map((function(e){return r.a.createElement(R,{reference:e,key:e.id})})))}}]),a}(r.a.Component)),U={addExternalReference:function(){return{type:"ADD_EXTERNAL_REFERENCE",payload:{id:Object(x.a)()}}}},H=Object(p.b)((function(e){return{syncExternalReferences:e.external_references}}),U)(F),q=(a(196),function(e){return{type:"UPDATE_CONF_TOKEN",payload:e}}),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:e.props.api.title,class:e.props.api.class},e.onCheckboxToggle=function(t){e.props.updateSupportedAPI(e.state.title),t.target.checked?e.props.addCapability(e.state.class):1===e.props.syncSupportedAPIs.filter((function(t){return t.startsWith(e.state.class)})).length&&e.props.deleteCapability(e.state.class)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"supportedAPI"},r.a.createElement("input",{type:"checkbox",autoComplete:"off",onChange:this.onCheckboxToggle,checked:this.props.syncSupportedAPIs.includes(this.state.title)}),r.a.createElement("label",null,this.state.title))}}]),a}(r.a.Component),B={addCapability:function(e){return{type:"ADD_CAPABILITY",payload:{id:e}}},deleteCapability:function(e){return{type:"DELETE_CAPABILITY",payload:e}},updateSupportedAPI:function(e){return{type:"UPDATE_SUPPORTED_API",payload:e}}},V=Object(p.b)((function(e){return{syncSupportedAPIs:e.properties["supported-apis"]||[]}}),B)(M),Y=(a(197),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeInputHandler=function(t){t.persist(),e.props.updateConfToken({name:t.target.name,value:t.target.value})},e}return Object(l.a)(a,[{key:"render",value:function(){return"RS256"===this.props.alg?r.a.createElement("div",{className:"conf-token-input"},r.a.createElement("label",null,"custom_jwks_host"),r.a.createElement("input",{value:this.props.syncProperties.custom_jwks_host||"",name:"custom_jwks_host",onChange:this.changeInputHandler})):r.a.createElement("div",{className:"conf-token-input"},r.a.createElement("label",null,"configuration-token-key"),r.a.createElement("input",{value:this.props.syncProperties["configuration-token-key"]||"",name:"configuration-token-key",onChange:this.changeInputHandler}))}}]),a}(r.a.Component)),J={updateConfToken:q},G=Object(p.b)((function(e){return{syncProperties:e.properties}}),J)(Y),W=(a(198),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeInputHandler=function(t){t.persist(),e.props.updateConfToken({name:t.target.name,value:t.target.value})},e.onSelectUpdate=function(t){e.changeInputHandler(t),e.props.toggleAlgorithm(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"conf-token-input"},r.a.createElement("label",null,"configuration-token-alg"),r.a.createElement("select",{value:this.props.syncProperties["configuration-token-alg"]||"",name:"configuration-token-alg",onChange:this.onSelectUpdate},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select your option"),P.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),this.props.syncProperties["configuration-token-alg"]?r.a.createElement(G,{alg:this.props.syncProperties["configuration-token-alg"]}):"",r.a.createElement("div",{className:"conf-token-input"},r.a.createElement("label",null,"configuration-token-audience"),r.a.createElement("input",{value:this.props.syncProperties["configuration-token-audience"]||"",name:"configuration-token-audience",onChange:this.changeInputHandler})))}}]),a}(r.a.Component)),z={updateConfToken:q,toggleAlgorithm:function(e){return{type:"TOGGLE_ALGORITHM",payload:e}}},X=Object(p.b)((function(e){return{syncProperties:e.properties}}),z)(W),$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onCheckboxToggle=function(){e.props.toggleAuthType()},e.onAuthSelection=function(t){t.persist(),e.props.updateAuthType(t.target.value)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"divAuth"},r.a.createElement("input",{type:"checkbox",autoComplete:"off",onChange:this.onCheckboxToggle,checked:Object.keys(this.props.syncProperties).includes("auth-type")}),r.a.createElement("label",null," ","authorization"," "),r.a.createElement("select",{className:"selectAuth",value:this.props.syncProperties["auth-type"]||"",onChange:this.onAuthSelection,disabled:!Object.keys(this.props.syncProperties).includes("auth-type"),required:Object.keys(this.props.syncProperties).includes("auth-type")&&"required"},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select your option"),A.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),Object.keys(this.props.syncProperties).includes("auth-type")&&"configuration-token"===this.props.syncProperties["auth-type"]?r.a.createElement(X,null):"")}}]),a}(r.a.Component),K={toggleAuthType:function(){return{type:"TOGGLE_AUTH_TYPE"}},updateAuthType:function(e){return{type:"UPDATE_AUTH_TYPE",payload:e}}},Q=Object(p.b)((function(e){return{syncProperties:e.properties}}),K)($),Z=(a(199),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={apis:[{title:"health",class:"health"},{title:"deliberate/observables",class:"deliberate"},{title:"refer/observables",class:"refer"},{title:"observe/observables",class:"observe"},{title:"respond/observables",class:"respond"},{title:"respond/trigger",class:"respond"},{title:"tiles",class:"tiles"},{title:"tiles/tile",class:"tiles"},{title:"tiles/tile-data",class:"tiles"}]},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Properties"),r.a.createElement("fieldset",null,r.a.createElement("p",null,"Supported APIs"),r.a.createElement("fieldset",null,this.state.apis.map((function(e){return r.a.createElement(V,{api:e,key:e.title})}))),r.a.createElement("p",null,"Auth-type"),r.a.createElement("fieldset",null,r.a.createElement(Q,null))))}}]),a}(r.a.Component)),ee=(a(200),a(17)),te=a(2),ae=(a(201),a(70),function(){return{type:"ADD_CONF_SPEC",payload:{key:"",type:"",label:"",tooltip:"",subtype:"",required:!1,group:"",options:[],id:Object(x.a)()}}}),ne=function(e){return{type:"ADD_OPTIONS",payload:{options:{value:"",label:"",id:Object(x.a)()},conf_spec_id:e}}},re=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:"",label:""},e.onDeleteIconClick=function(){e.props.deleteOption(e.props.option.id,e.props.conf_spec_id)},e.onInputUpdate=function(t){t.persist(),e.props.updateOption(e.props.option.id,e.props.conf_spec_id,{name:t.target.name,value:t.target.value.trim()})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"optionsWrapper"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"inputDiv"},"value",r.a.createElement("span",{className:"required-field"},"*"),r.a.createElement("input",{type:"text",name:"value",className:"customInput",value:this.props.option.value,onChange:this.onInputUpdate,required:!0})),r.a.createElement("div",{className:"inputDiv"},"label",r.a.createElement("span",{className:"required-field"},"*"),r.a.createElement("input",{type:"text",name:"label",className:"customInput",value:this.props.option.label,onChange:this.onInputUpdate,required:!0}))),r.a.createElement("div",{className:"optionsIconWrapper"},r.a.createElement("svg",{className:"closeIcon",onClick:this.onDeleteIconClick},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")}))))}}]),a}(r.a.Component),oe={deleteOption:function(e,t){return{type:"DELETE_OPTION",payload:{option_id:e,conf_spec_id:t}}},updateOption:function(e,t,a){return{type:"UPDATE_OPTION",payload:{option_id:e,conf_spec_id:t,pair:a}}}},ce=Object(p.b)(null,oe)(re),ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onButtonClick=function(){e.props.addOptions(e.props.conf_spec_id)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"confSpecRow"},r.a.createElement("div",{className:"options-title"},"Options",r.a.createElement("button",{type:"button",className:"addNewButton",onClick:this.onButtonClick},"+ Add"))),this.props.options.map((function(t){return r.a.createElement(ce,{key:t.id,option:t,conf_spec_id:e.props.conf_spec_id})})))}}]),a}(r.a.Component),le={addOptions:ne},se=Object(p.b)(null,le)(ie),ue=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showOptions:e.props.syncConfSpecItem.options.length>0},e.onSelectChange=function(t){e.onInputChange(t),"options"===t.target.value?(e.props.addOptions(e.props.role),e.setState({showOptions:!0})):(e.props.deleteAllOptions(e.props.role),e.setState({showOptions:!1}))},e.onDeleteIconClick=function(){e.props.deleteConfSpec(e.props.role)},e.trimInputValue=function(t){e.props.updateConfSpec(e.props.role,{name:t.target.name,value:t.target.value.trim()})},e.onInputChange=function(t){t.persist();var a="";a="checkbox"===t.target.type?t.target.checked:t.target.value,e.setState((function(e){return Object(te.a)(Object(te.a)({},e),Object(ee.a)({},t.target.name,a))})),e.props.updateConfSpec(e.props.role,{name:t.target.name,value:a})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"confSpecWrapper"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"key"),r.a.createElement("span",{className:"required-field"},"*"),r.a.createElement("input",{type:"text",name:"key",className:"customInput",required:!0,value:this.props.syncConfSpecItem.key,onChange:this.onInputChange,onBlur:this.trimInputValue,list:"key-input-list"})),r.a.createElement("datalist",{id:"key-input-list"},k.map((function(t){return r.a.createElement("option",{key:"".concat(t," ").concat(e.props.role)},t)}))),r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"type"),r.a.createElement("span",{className:"required-field"},"*"),r.a.createElement("select",{name:"type",className:"customInput",required:!0,value:this.props.syncConfSpecItem.type||"",onChange:this.onSelectChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select your option"),N.map((function(e){return r.a.createElement("option",{key:e},e)})))),this.state.showOptions?r.a.createElement(se,{conf_spec_id:this.props.role,options:this.props.syncConfSpecItem.options}):null,r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"label"),r.a.createElement("span",{className:"required-field"},"*"),r.a.createElement("input",{type:"text",name:"label",className:"customInput",required:!0,value:this.props.syncConfSpecItem.label,onChange:this.onInputChange,onBlur:this.trimInputValue})),r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"tooltip"),r.a.createElement("input",{type:"text",name:"tooltip",className:"customInput",value:this.props.syncConfSpecItem.tooltip,onChange:this.onInputChange,onBlur:this.trimInputValue})),r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"subtype"),r.a.createElement("input",{type:"text",name:"subtype",className:"customInput",value:this.props.syncConfSpecItem.subtype,onChange:this.onInputChange,onBlur:this.trimInputValue})),r.a.createElement("div",{className:"inputDiv"},r.a.createElement("label",null,"group"),r.a.createElement("input",{type:"text",name:"group",className:"customInput",value:this.props.syncConfSpecItem.group,onChange:this.onInputChange,onBlur:this.trimInputValue})),r.a.createElement("div",{className:"checkboxDiv"},r.a.createElement("label",null,"required"),r.a.createElement("input",{type:"checkbox",name:"required",checked:this.props.syncConfSpecItem.required,onChange:this.onInputChange}))),r.a.createElement("div",null,r.a.createElement("svg",{className:"closeIcon",onClick:this.onDeleteIconClick},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")}))))}}]),a}(r.a.Component),pe={addOptions:ne,deleteAllOptions:function(e){return{type:"DELETE_ALL_OPTIONS",payload:{conf_spec_id:e}}},deleteConfSpec:function(e){return{type:"DELETE_CONF_SPEC",payload:{conf_spec_id:e}}},updateConfSpec:function(e,t){return{type:"UPDATE_CONF_SPEC",payload:{conf_spec_id:e,pair:t}}}},de=Object(p.b)((function(e){return{syncConfSpec:e.configuration_spec}}),pe)(ue),me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"confSpecRow"},r.a.createElement("div",null,r.a.createElement("label",null,"Configuration Spec"),r.a.createElement("button",{type:"button",onClick:this.props.addConfSpec},"+ Add"))),this.props.syncConfSpec.map((function(e){return r.a.createElement(de,{role:e.id,key:e.id,syncConfSpecItem:e})})))}}]),a}(r.a.Component),fe={addConfSpec:ae},he=Object(p.b)((function(e){return{syncConfSpec:e.configuration_spec}}),fe)(me),Ee=(a(202),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).trimInputValue=function(t){e.props.updateCapabilityDescription({id:e.props.api.id,description:t.target.value.trim()})},e.onDescriptionChange=function(t){t.persist(),e.props.updateCapabilityDescription({id:e.props.api.id,description:t.target.value})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"capabilitiesWrapper"},r.a.createElement("p",null,this.props.api.id,r.a.createElement("span",{className:"required-field"},"*")),r.a.createElement("input",{type:"text",value:this.props.api.description||"",name:this.props.api.id,placeholder:"Enter description",autoComplete:"off",onChange:this.onDescriptionChange,onBlur:this.trimInputValue,required:!0}))}}]),a}(r.a.Component)),be={updateCapabilityDescription:function(e){return{type:"UPDATE_CAPABILITY_DESCR",payload:{id:e.id,description:e.description}}}},ye=Object(p.b)(null,be)(Ee),ve=(a(203),Object(p.b)((function(e){return{syncCapabilities:e.capabilities}}))((function(e){var t=e.syncCapabilities;return r.a.createElement("div",null,r.a.createElement("p",null,"Capabilities"),r.a.createElement("fieldset",null,r.a.createElement("p",{className:"capabilitiesTip"},"Select at least one of the Supported APIs to write a description"),t.map((function(e){return r.a.createElement(ye,{api:e,key:e.id})}))))}))),Oe=(a(204),a(78)),_e={deleteLogo:function(){return{type:"DELETE_LOGO"}},onFileLoaded:b},ge=Object(p.b)(null,_e)((function(e){var t=e.value,a=e.deleteLogo,o=e.onFileLoaded,c=Object(n.useCallback)((function(e){var t=e[0];if(t){var a=new FileReader;a.onload=function(){var e=a.result;o(e)},a.readAsDataURL(t)}}),[o]),i=Object(Oe.a)({onDrop:c,multiple:!1,accept:"image/*"}),l=i.getRootProps,s=i.getInputProps,u=i.isDragActive;return r.a.createElement("div",{className:"dropzone-wrapper"},r.a.createElement("div",l({className:"dropzone".concat(u?"-active":"")}),r.a.createElement("input",s()),r.a.createElement("p",null,"Drag 'n' drop your logo here, or click to select logo")),Boolean(t)&&r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:"",height:"60",className:"img"}),r.a.createElement("svg",{className:"closeIcon",onClick:a},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")}))))})),je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeInputHandler=function(t){t.persist(),e.props.updateSingleInput({name:t.target.name,value:t.target.value})},e.trimInputValue=function(t){e.props.updateSingleInput({name:t.target.name,value:t.target.value.trim()})},e.trimFlags=function(t){e.props.updateFlags(t.target.value.split(",").map((function(e){return e.trim()})))},e.changeFlagsHandler=function(t){t.persist(),e.props.updateFlags(t.target.value.split(","))},e.handleLoadLocalFile=function(t){t.preventDefault();var a=t.target.files[0];if(a){var n=new FileReader;n.onloadend=function(){return e.props.onFileLoaded(n.result)},n.readAsDataURL(a)}},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"title"},"Module")),r.a.createElement("form",{id:"mainForm"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("label",{className:"input-label"},"Title",r.a.createElement("span",{className:"required-field"},"*")),r.a.createElement("textarea",{required:!0,autoComplete:"off",value:this.props.syncContent.title||"",name:"title",onChange:this.changeInputHandler,onBlur:this.trimInputValue}),r.a.createElement("label",{className:"input-label"},"Default Name",r.a.createElement("span",{className:"required-field"},"*")),r.a.createElement("textarea",{required:!0,autoComplete:"off",value:this.props.syncContent.default_name||"",name:"default_name",onChange:this.changeInputHandler,onBlur:this.trimInputValue}),r.a.createElement("label",{className:"input-label"},"Short Description"),r.a.createElement("textarea",{autoComplete:"off",value:this.props.syncContent.short_description||"",name:"short_description",onChange:this.changeInputHandler,onBlur:this.trimInputValue}),r.a.createElement("label",{className:"input-label"},"Flags"),r.a.createElement("input",{type:"text",name:"flags",placeholder:"Enter flags separated by commas",autoComplete:"off",value:this.props.syncContent.flags||"",onChange:this.changeFlagsHandler,onBlur:this.trimFlags}),r.a.createElement("label",{className:"input-label"},"Logo"),r.a.createElement(ge,{value:this.props.syncContent.logo,onChange:this.handleLoadLocalFile}),r.a.createElement(Z,null),r.a.createElement(ve,null),r.a.createElement(H,null),r.a.createElement(he,null)),r.a.createElement("div",{className:"column"},r.a.createElement("label",{className:"input-label"},"Description"),r.a.createElement(O,{name:"description"}),r.a.createElement("label",{className:"input-label"},"Tips"),r.a.createElement(O,{name:"tips"})))))}}]),a}(r.a.Component),Ce={updateSingleInput:E,updateFlags:function(e){return{type:"UPDATE_FlAGS",payload:e}},onFileLoaded:b,addConfSpec:ae},ke=Object(p.b)((function(e){return{syncContent:e.other_inputs}}),Ce)(je),Ne=a(37),Se=(a(205),a(10)),Ae=a.n(Se),Pe=a(26),Te=a(14),Ie=(a(207),a(40)),De=a.n(Ie),xe=function(e){return{type:"READ_STATE_FROM_BACKEND",payload:e}},we=function(){return{type:"HIDE_MODAL_FOR_PUSH"}},Le=function(){return{type:"HIDE_MODAL_FOR_PULL"}},Re=function(e,t){return{type:"SHOW_ALERT",payload:{title:e,message:t}}},Fe={hideModalForPush:we,showAlert:Re,pushModuleTypeRequest:function(e,t){return{type:"PUSH_MODULE_TYPE_REQUEST",payload:{json:e,client_id:t.client_id,password:t.password,iroh_service_url:t.iroh_service_url}}}},Ue=Object(p.b)((function(e){return{loader:e.elements_visibility.loader}}),Fe)((function(e){return r.a.createElement("div",{className:"modal",id:"modal"},r.a.createElement(Te.d,{initialValues:{client_id:"",password:"",iroh_service_url:""},validate:function(e){var t={};return e.client_id||(t.client_id="is required"),e.password||(t.password="is required"),e.iroh_service_url||(t.iroh_service_url="is required"),t},onSubmit:function(){var t=Object(Pe.a)(Ae.a.mark((function t(a,n){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.setSubmitting,e.pushModuleTypeRequest(e.json,a),r(!1);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.isSubmitting;return e.loader?r.a.createElement(De.a,{loaded:!1,className:"spinner"}):r.a.createElement(Te.c,{className:"modal-content"},r.a.createElement("svg",{className:"closeIcon",onClick:e.hideModalForPush},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")})),r.a.createElement("p",{className:"push-modal-text"},"Create a new module type in your Threat Response organization"),r.a.createElement("label",{htmlFor:"client_id",className:"centered"},"Client ID"),r.a.createElement("div",null,r.a.createElement(Te.b,{type:"text",name:"client_id",id:"client_id",required:!0}),r.a.createElement(Te.a,{name:"client_id",component:"div",className:"error"})),r.a.createElement("label",{htmlFor:"password",className:"centered"},"Client Password"),r.a.createElement("div",null,r.a.createElement(Te.b,{name:"password",type:"password",id:"password",required:!0}),r.a.createElement(Te.a,{name:"password",component:"div",className:"error"})),r.a.createElement("label",{htmlFor:"iroh_service_url",className:"centered"},"Region"),r.a.createElement("div",null,r.a.createElement(Te.b,{as:"select",name:"iroh_service_url",required:!0},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select your option"),r.a.createElement("option",{value:_},"Europe"),r.a.createElement("option",{value:g},"North America"),r.a.createElement("option",{value:j},"Asia")),r.a.createElement(Te.a,{name:"iroh_service_url",component:"div",className:"error"})),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{type:"button",onClick:e.hideModalForPush,className:"cancel"},"Cancel"),r.a.createElement("button",{type:"submit",disabled:a,className:"submit"},"Push")))})))})),He=(a(211),function(e){var t=e.title,a=e.message,n=e.closeAlertHandler;return r.a.createElement("div",{className:"alert"},r.a.createElement("div",{className:"alertContent"},r.a.createElement("div",{className:"alertHeader"},t,r.a.createElement("svg",{className:"closeIcon",onClick:n},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")}))),r.a.createElement("div",{className:"alertBody"},a),r.a.createElement("div",{className:"alertFooter"},r.a.createElement("button",{type:"button",className:"closeButton",onClick:n},"Close"))))}),qe=new(a(77).Validator);qe.addSchema({id:"/Capability",type:"object",properties:{id:{type:"string",enum:["respond","observe","health","tiles","refer","deliberate"]},description:{type:"string"}},additionalProperties:!1,required:["id","description"]},"/Capability"),qe.addSchema({id:"/ExternalReference",type:"object",properties:{label:{type:"string"},link:{type:"string"}},additionalProperties:!1,required:["label","link"]},"/ExternalReference"),qe.addSchema({type:"object",properties:{"supported-apis":{type:"array",items:{type:"string"}},"auth-type":{type:"string"}}},"/Properties"),qe.addSchema({id:"/ConfigurationSpecOptions",type:"object",properties:{value:{type:"string"},label:{type:"string"}},additionalProperties:!1,required:["value","label"]},"/ConfigurationSpecOptions"),qe.addSchema({id:"/ConfigurationSpecField",type:"object",properties:{key:{type:"string"},type:{type:"string",enum:["password","string","api_key","integer","device","options","boolean"]},label:{type:"string"},tooltip:{type:"string"},subtype:{type:"string"},required:{type:"boolean"},options:{type:"array",items:{$ref:"/ConfigurationSpecOptions"}},group:{type:"string"}},additionalProperties:!1,required:["key","type","label"]},"/ConfigurationSpecField");var Me={type:"object",properties:{description:{type:"string"},tips:{type:"string"},logo:{type:"string"},short_description:{type:"string"},title:{type:"string"},flags:{type:"array"},external_references:{type:"array",items:{$ref:"/ExternalReference"}},configuration_spec:{type:"array",items:{$ref:"/ConfigurationSpecField"}},capabilities:{type:"array",items:{$ref:"/Capability"}},properties:{$ref:"/Properties"}},required:["title","default_name"]},Be=(a(220),{pullModuleTypeRequest:function(e,t,a,n){return{type:"PULL_MODULE_TYPE_REQUEST",payload:{module_type_id:e,client_id:t,password:a,iroh_service_url:n}}},hideModalForPull:Le}),Ve=Object(p.b)((function(e){return{loader:e.elements_visibility.loader}}),Be)((function(e){return r.a.createElement("div",{className:"modal",id:"modal"},r.a.createElement(Te.d,{initialValues:{client_id:"",password:"",module_type_id:"",iroh_service_url:""},validate:function(e){var t={};return e.client_id||(t.client_id="is required"),e.password||(t.password="is required"),e.module_type_id||(t.module_type_id="is required"),e.iroh_service_url||(t.iroh_service_url="is required"),t},onSubmit:function(){var t=Object(Pe.a)(Ae.a.mark((function t(a,n){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.setSubmitting,e.pullModuleTypeRequest(a.module_type_id,a.client_id,a.password,a.iroh_service_url),r(!1);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.isSubmitting;return e.loader?r.a.createElement(De.a,{loaded:!1,className:"spinner"}):r.a.createElement(Te.c,{className:"modal-content"},r.a.createElement("svg",{className:"closeIcon",onClick:e.hideModalForPull},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-small-x-close")})),r.a.createElement("p",{className:"push-modal-text"},"Pull module type from your Threat Response organization"),r.a.createElement("label",{htmlFor:"client_id",className:"centered"},"Client ID"),r.a.createElement("div",null,r.a.createElement(Te.b,{type:"text",name:"client_id",id:"client_id",required:!0}),r.a.createElement(Te.a,{name:"client_id",component:"div",className:"error"})),r.a.createElement("label",{htmlFor:"password",className:"centered"},"Client Password"),r.a.createElement("div",null,r.a.createElement(Te.b,{name:"password",type:"password",id:"password",required:!0}),r.a.createElement(Te.a,{name:"password",component:"div",className:"error"})),r.a.createElement("label",{htmlFor:"module_type_id",className:"centered"},"Module Type ID"),r.a.createElement("div",null,r.a.createElement(Te.b,{name:"module_type_id",type:"module_type_id",id:"module_type_id",required:!0}),r.a.createElement(Te.a,{name:"module_type_id",component:"div",className:"error"})),r.a.createElement("label",{htmlFor:"iroh_service_url",className:"centered"},"Region"),r.a.createElement("div",null,r.a.createElement(Te.b,{as:"select",name:"iroh_service_url",required:!0},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select your option"),r.a.createElement("option",{value:_},"Europe"),r.a.createElement("option",{value:g},"North America"),r.a.createElement("option",{value:j},"Asia")),r.a.createElement(Te.a,{name:"iroh_service_url",component:"div",className:"error"})),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{type:"button",onClick:e.hideModalForPull,className:"cancel"},"Cancel"),r.a.createElement("button",{type:"submit",disabled:a,className:"submit"},"Pull")))})))}));var Ye=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={inputEl:Object(n.createRef)()},e.onSaveButtonClick=function(){if(e.isValidForm()){var t=e.constructValidJSON(),a=JSON.stringify(t,null,4),n=new Blob([a],{type:"text/plain"}),r=URL.createObjectURL(n),o=document.createElement("a"),c=t.title.replace(/ /g,"_");o.download="".concat(c,"_module_type.json"),o.href=r,o.click()}},e.onPushButtonClick=function(){e.isValidForm()&&e.props.showModalForPush()},e.handleFile=function(t){t.preventDefault();var a=t.target.files[0];if(a){var n=new FileReader;n.onload=function(){try{var t=JSON.parse(n.result),a=qe.validate(t,Me);a.valid?e.props.readStateFromBackend(t):e.props.showAlert(T,"Wrong JSON structure: "+a.errors.join(", "))}catch(r){e.props.showAlert(T,String(r))}},n.onerror=function(){e.props.showAlert(T,"Error occurred reading file: "+a.name)},n.readAsText(a,"UTF-8")}},e.onOpenButtonClick=function(){var t=e.state.inputEl.current;t.click(),t.addEventListener("change",e.handleFile,!1)},e}return Object(l.a)(a,[{key:"constructValidJSON",value:function(){var e,t=JSON.parse(JSON.stringify(this.props.syncJSON)),a=Object(Ne.a)(t.configuration_spec);try{var n=function(){var t=e.value;t.options&&t.options.map((function(e){return delete e.id})),delete t.id,Object.keys(t).forEach((function(e){return 0===t[e].length&&delete t[e]}))};for(a.s();!(e=a.n()).done;)n()}catch(r){a.e(r)}finally{a.f()}return t.external_references.map((function(e){return delete e.id})),function(e){var t,a={},n=Object(Ne.a)(C);try{for(n.s();!(t=n.n()).done;){var o=t.value;o in e&&(a[o]=e[o])}}catch(r){n.e(r)}finally{n.f()}return a}(t)}},{key:"isValidForm",value:function(){return document.getElementById("mainForm").reportValidity()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Sidebar"},r.a.createElement("p",null,"Settings"),r.a.createElement("ul",null,r.a.createElement("input",{type:"file",ref:this.state.inputEl,accept:"application/JSON"}),r.a.createElement("li",{onClick:this.onOpenButtonClick},"Open JSON from File"),r.a.createElement("li",{onClick:this.props.showModalForPull},"Open JSON from TR API"),r.a.createElement("li",{onClick:this.onSaveButtonClick},"Save JSON"),r.a.createElement("li",{onClick:this.onPushButtonClick},"Push JSON to TR")),this.props.modalForPush&&r.a.createElement(Ue,{json:this.constructValidJSON()}),this.props.customAlert&&r.a.createElement(He,{title:this.props.customAlert.title,message:this.props.customAlert.message,closeAlertHandler:this.props.hideAlert}),this.props.modalForPull&&r.a.createElement(Ve,null))}}]),a}(r.a.Component),Je=function(e){var t=e.external_references,a=e.configuration_spec,n=e.properties,r=e.capabilities,o=e.other_inputs;return Object(te.a)({external_references:t,configuration_spec:a,properties:n,capabilities:r},o)},Ge={readStateFromBackend:xe,showModalForPush:function(){return{type:"SHOW_MODAL_FOR_PUSH"}},hideModalForPush:we,showModalForPull:function(){return{type:"SHOW_MODAL_FOR_PULL"}},hideModalForPull:Le,showAlert:Re,hideAlert:function(){return{type:"HIDE_ALERT"}}},We=Object(p.b)((function(e){return{syncJSON:Je(e),modalForPush:e.elements_visibility.modalForPush,modalForPull:e.elements_visibility.modalForPull,customAlert:e.elements_visibility.customAlert}}),Ge)(Ye),ze=(a(221),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",null,r.a.createElement("svg",{className:"iconCiscoLogo"},r.a.createElement("use",{xlinkHref:"".concat(D.a,"#icon-cisco-logo")}))),r.a.createElement("div",null,r.a.createElement("p",{className:"headerTitle"},"Threat Response Module Maker")))}}]),a}(r.a.Component));var Xe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ze,null),r.a.createElement("div",{className:"site"},r.a.createElement(We,null),r.a.createElement(ke,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=a(24),Ke=a(31),Qe=[];function Ze(e,t){var a=e.filter((function(e){return e.id===t.conf_spec_id}));return e.indexOf(a[0])}var et={"supported-apis":[]},tt=[],at={modalForPush:!1,modalForPull:!1,loader:!1,customAlert:null},nt=Object($e.c)({other_inputs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SINGLE_INPUT":return Object(te.a)(Object(te.a)({},e),{},Object(ee.a)({},t.payload.name,t.payload.value));case"UPDATE_FlAGS":return Object(te.a)(Object(te.a)({},e),{},{flags:t.payload});case"LOAD_FILE":return Object(te.a)(Object(te.a)({},e),{},{logo:t.payload});case"DELETE_LOGO":return Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(Ke.a)(e,2),a=t[0];t[1];return"logo"!==a})));default:return e}},properties:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SUPPORTED_API":return e["supported-apis"].includes(t.payload)?Object(te.a)(Object(te.a)({},e),{},{"supported-apis":e["supported-apis"].filter((function(e){return e!==t.payload}))}):Object(te.a)(Object(te.a)({},e),{},{"supported-apis":e["supported-apis"].concat([t.payload])});case"TOGGLE_AUTH_TYPE":return Object.keys(e).includes("auth-type")?Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(Ke.a)(e,2),a=t[0];t[1];return"supported-apis"===a}))):Object(te.a)(Object(te.a)({},e),{},{"auth-type":""});case"UPDATE_AUTH_TYPE":return Object(te.a)(Object(te.a)({},e),{},{"auth-type":t.payload});case"UPDATE_CONF_TOKEN":return Object(te.a)(Object(te.a)({},e),{},Object(ee.a)({},t.payload.name,t.payload.value));case"TOGGLE_ALGORITHM":return"RS256"===t.payload?Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(Ke.a)(e,2),a=t[0];t[1];return"configuration-token-key"!==a}))):Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(Ke.a)(e,2),a=t[0];t[1];return"custom_jwks_host"!==a})));default:return e}},capabilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CAPABILITY":return 0===e.filter((function(e){return Object.values(e).includes(t.payload.id)})).length?e.concat([t.payload]):e;case"DELETE_CAPABILITY":return e.filter((function(e){return e.id!==t.payload}));case"UPDATE_CAPABILITY_DESCR":var a=e.filter((function(e){return e.id===t.payload.id})),n=e.indexOf(a[0]);return e.map((function(e,a){return a!==n?e:Object(te.a)(Object(te.a)({},e),t.payload)}));default:return e}},external_references:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXTERNAL_REFERENCE":return e.concat({label:"",link:"",id:t.payload.id});case"DELETE_EXTERNAL_REFERENCE":return e.filter((function(e){return!Object.values(e).includes(t.payload)}));case"UPDATE_EXTERNAL_REFERENCE":return e.map((function(e){return e.id!==t.payload.id?e:Object(te.a)(Object(te.a)({},e),{},Object(ee.a)({},t.payload.pair.name,t.payload.pair.value))}));default:return e}},configuration_spec:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONF_SPEC":return e.concat([t.payload]);case"ADD_OPTIONS":return e.map((function(a,n){return n!==Ze(e,t.payload)?a:Object(te.a)(Object(te.a)({},a),{},{options:a.options.concat(t.payload.options)})}));case"DELETE_CONF_SPEC":return e.filter((function(e){return e.id!==t.payload.conf_spec_id}));case"DELETE_ALL_OPTIONS":return e.map((function(a,n){return n!==Ze(e,t.payload)?a:Object(te.a)(Object(te.a)({},a),{},{options:[]})}));case"DELETE_OPTION":return e.map((function(a,n){return n!==Ze(e,t.payload)?a:Object(te.a)(Object(te.a)({},a),{},{options:a.options.filter((function(e){return e.id!==t.payload.option_id}))})}));case"UPDATE_CONF_SPEC":return e.map((function(a,n){return n!==Ze(e,t.payload)?a:Object(te.a)(Object(te.a)({},a),{},Object(ee.a)({},t.payload.pair.name,t.payload.pair.value))}));case"UPDATE_OPTION":return e.map((function(a,n){return n!==Ze(e,t.payload)?a:Object(te.a)(Object(te.a)({},a),{},{options:a.options.map((function(e){return e.id!==t.payload.option_id?e:Object(te.a)(Object(te.a)({},e),{},Object(ee.a)({},t.payload.pair.name,t.payload.pair.value))}))})}));default:return e}},elements_visibility:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL_FOR_PUSH":return Object(te.a)(Object(te.a)({},e),{},{modalForPush:!0});case"HIDE_MODAL_FOR_PUSH":return Object(te.a)(Object(te.a)({},e),{},{modalForPush:!1});case"SHOW_LOADER":return Object(te.a)(Object(te.a)({},e),{},{loader:!0});case"HIDE_LOADER":return Object(te.a)(Object(te.a)({},e),{},{loader:!1});case"SHOW_MODAL_FOR_PULL":return Object(te.a)(Object(te.a)({},e),{},{modalForPull:!0});case"HIDE_MODAL_FOR_PULL":return Object(te.a)(Object(te.a)({},e),{},{modalForPull:!1});case"SHOW_ALERT":return Object(te.a)(Object(te.a)({},e),{},{customAlert:Object(te.a)(Object(te.a)({},e.customAlert),t.payload)});case"HIDE_ALERT":return Object(te.a)(Object(te.a)({},e),{},{customAlert:null});default:return e}}});function rt(e){return e&&e.map((function(e){return e.id=Object(x.a)()})),e||[]}var ot=a(79),ct=a(12);function it(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(Pe.a)(Ae.a.mark((function e(t){var a,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.iroh_service_url+"/iroh/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Basic "+btoa(t.client_id+":"+t.password)},body:"grant_type=client_credentials"});case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,a.ok){e.next=8;break}throw a.statusText||n.error_description;case 8:return e.abrupt("return",n.access_token);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(Pe.a)(Ae.a.mark((function e(t,a){var n,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return e.next=3,fetch(t.iroh_service_url+"/iroh/iroh-int/module-type/"+t.module_type_id,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+a}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=11;break}throw n.statusText||r.error_description;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(Pe.a)(Ae.a.mark((function e(t,a){var n,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return e.next=3,fetch(a.iroh_service_url+"/iroh/iroh-int/module-type",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+t},body:JSON.stringify(a.json)});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,n.ok){e.next=11;break}throw n.statusText||r.errors;case 11:return e.abrupt("return",r.id);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mt=Ae.a.mark(Ot),ft=Ae.a.mark(_t),ht=Ae.a.mark(gt),Et=Ae.a.mark(jt),bt=Ae.a.mark(Ct),yt=Ae.a.mark(kt),vt=Ae.a.mark(Nt);function Ot(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.c)("PULL_MODULE_TYPE_REQUEST",jt);case 2:return e.next=4,Object(ct.c)("PUSH_MODULE_TYPE_REQUEST",Nt);case 4:return e.next=6,Object(ct.c)("PULL_MODULE_TYPE_SUCCESS",_t);case 6:return e.next=8,Object(ct.c)("PULL_MODULE_TYPE_ERROR",gt);case 8:return e.next=10,Object(ct.c)("PUSH_MODULE_TYPE_SUCCESS",Ct);case 10:return e.next=12,Object(ct.c)("PUSH_MODULE_TYPE_ERROR",kt);case 12:case"end":return e.stop()}}),mt)}function _t(e){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ct.b)({type:"HIDE_LOADER"});case 2:return t.next=4,Object(ct.b)({type:"HIDE_MODAL_FOR_PULL"});case 4:return t.next=6,Object(ct.b)(xe(e.payload));case 6:case"end":return t.stop()}}),ft)}function gt(e){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ct.b)({type:"HIDE_LOADER"});case 2:return t.next=4,Object(ct.b)(Re(T,e.payload));case 4:case"end":return t.stop()}}),ht)}function jt(e){var t,a;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ct.b)({type:"SHOW_LOADER"});case 3:return n.next=5,Object(ct.a)(it,e.payload);case 5:return t=n.sent,n.next=8,Object(ct.a)(st,e.payload,t);case 8:return a=n.sent,n.next=11,Object(ct.b)({type:"PULL_MODULE_TYPE_SUCCESS",payload:a});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(ct.b)({type:"PULL_MODULE_TYPE_ERROR",payload:String(n.t0).replace(/^\w/,(function(e){return e.toUpperCase()}))});case 17:case"end":return n.stop()}}),Et,null,[[0,13]])}function Ct(e){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ct.b)({type:"HIDE_LOADER"});case 2:return t.next=4,Object(ct.b)({type:"HIDE_MODAL_FOR_PUSH"});case 4:return t.next=6,Object(ct.b)(Re("Success","The module type was successfully created with id: "+e.payload));case 6:case"end":return t.stop()}}),bt)}function kt(e){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ct.b)({type:"HIDE_LOADER"});case 2:return t.next=4,Object(ct.b)(Re(T,e.payload));case 4:case"end":return t.stop()}}),yt)}function Nt(e){var t,a;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ct.b)({type:"SHOW_LOADER"});case 3:return n.next=5,Object(ct.a)(it,e.payload);case 5:return t=n.sent,n.next=8,Object(ct.a)(pt,t,e.payload);case 8:return a=n.sent,n.next=11,Object(ct.b)({type:"PUSH_MODULE_TYPE_SUCCESS",payload:a});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(ct.b)({type:"PUSH_MODULE_TYPE_ERROR",payload:String(n.t0).replace(/^\w/,(function(e){return e.toUpperCase()}))});case 17:case"end":return n.stop()}}),vt,null,[[0,13]])}var St=Object(ot.a)(),At=Object($e.e)((function(e,t){return"READ_STATE_FROM_BACKEND"===t.type?Object(te.a)(Object(te.a)({},e),{},{external_references:rt(t.payload.external_references),configuration_spec:(a=t.payload.configuration_spec,(a=rt(a))&&a.map((function(e){return e.options=rt(e.options)})),a),properties:t.payload.properties||[],capabilities:t.payload.capabilities||[],other_inputs:{title:t.payload.title,short_description:t.payload.short_description,tips:t.payload.tips,description:t.payload.description,flags:t.payload.flags,logo:t.payload.logo,default_name:t.payload.default_name}}):nt(e,t);var a}),Object($e.a)(St));St.run(Ot);var Pt=r.a.createElement(p.a,{store:At},r.a.createElement(Xe,null));c.a.render(Pt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){},80:function(e,t,a){e.exports=a(222)},85:function(e,t,a){},86:function(e,t,a){},92:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.81cfc9a7.chunk.js.map